# Порівняння рендерів до та після оптимізації

## Як використовувати

### Крок 1: Тест БЕЗ оптимізації
1. Відкрийте файл `config/optimization.ts`
2. Змініть `USE_OPTIMIZATIONS` на `false`
3. Запустіть додаток
4. Дочекайтесь 3 секунди - статистика автоматично збережеться
5. Перевірте консоль та файл `render-stats-before-optimization.txt` в documentDirectory

### Крок 2: Тест З оптимізацією
1. Відкрийте файл `config/optimization.ts`
2. Змініть `USE_OPTIMIZATIONS` на `true`
3. Запустіть додаток знову
4. Дочекайтесь 3 секунди - статистика автоматично збережеться
5. Перевірте консоль та файл `render-stats-after-optimization.txt` в documentDirectory
6. Порівняйте результати

## Що відстежується

- **HomeScreen**: кількість рендерів головного екрану
- **PetCard-[name]**: кількість рендерів для кожної картки тварини окремо

## Очікувані результати

### Без оптимізації (USE_OPTIMIZATIONS = false):
- Всі PetCard компоненти ререндеряться при зміні favoriteIds
- Функції створюються заново при кожному рендері
- Більша кількість загальних рендерів
- При натисканні на улюблене - ререндеряться всі картки

### З оптимізацією (USE_OPTIMIZATIONS = true):
- Тільки PetCard зі зміненим isFavorite ререндериться
- Функції стабільні (useCallback)
- Менша кількість загальних рендерів
- При натисканні на улюблене - ререндериться тільки одна картка

## Файли зі статистикою

Статистика зберігається в documentDirectory додатку:
- `render-stats-before-optimization.txt` - до оптимізації
- `render-stats-after-optimization.txt` - після оптимізації

Файли містять:
- Загальну кількість рендерів
- Детальну статистику по кожному компоненту
- JSON з повною інформацією

## Оптимізації, які застосовуються

1. **React.memo** для PetCard - компонент ререндериться тільки при зміні пропсів
2. **useCallback** для всіх функцій - стабільні посилання на функції
3. **useMemo** для typeLabel - обчислення тільки при зміні type
